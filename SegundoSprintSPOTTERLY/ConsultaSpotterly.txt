
DROP TABLE IF EXISTS suscripcion;
DROP TABLE IF EXISTS usuario;

CREATE TABLE usuario (
	telefono INT(9),
	nombre VARCHAR(50),
	password VARCHAR(100) NOT NULL,
	tiene_suscripcion BOOLEAN DEFAULT FALSE NOT NULL,
	suscripcionid INT(10),
	usos INT(3) DEFAULT 2,
	PRIMARY KEY (telefono),
	FOREIGN KEY (suscripcionid) REFERENCES suscripcion(suscripcionid)
);

CREATE TABLE suscripcion (
	suscripcionid INT AUTO_INCREMENT,
	tipo VARCHAR(50) NOT NULL,
	fecha_inicio DATE NOT NULL,
	fecha_fin DATE NOT NULL,
	activa BOOLEAN DEFAULT TRUE NOT NULL,
	usuario_principal INT(9) NOT NULL,
	PRIMARY KEY (suscripcionid),
	FOREIGN KEY (usuario_principal) REFERENCES usuario(telefono)
);
